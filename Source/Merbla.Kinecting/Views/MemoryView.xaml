<UserControl x:Class="Merbla.Kinecting.Views.MemoryView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
              xmlns:controls="clr-namespace:Merbla.Kinecting.WPF.Controls;assembly=Merbla.Kinecting.WPF.Controls"
             xmlns:cal="http://www.caliburnproject.org"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:Core="clr-namespace:Microsoft.Expression.Interactivity.Core;assembly=Microsoft.Expression.Interactions">
  <UserControl.Resources>
        <Style x:Key="MemoryButtonStyle" TargetType="{x:Type Button}" >
            <Setter Property="Height" Value="100"></Setter>
            <Setter Property="Width" Value="100"></Setter>
        </Style>
        <Style x:Key="ThreeDContent" TargetType="{x:Type controls:ContentControl3D}" >
            <Setter Property="Height" Value="100"></Setter>
            <Setter Property="Width" Value="100"></Setter>
        </Style>
      
    </UserControl.Resources>
  <StackPanel>
            <StackPanel Orientation="Horizontal">         
            <controls:ContentControl3D Style="{StaticResource ThreeDContent}">
                <i:Interaction.Triggers>
                    <Core:DataTrigger  Binding="{Binding Open, Mode=TwoWay}" Value="True">
                        <i:InvokeCommandAction Command="controls:ContentControl3D.RotateCommand"/>
                    </Core:DataTrigger>
                </i:Interaction.Triggers>
                
                <controls:ContentControl3D.BackContentTemplate>
                    <DataTemplate>
                        <Button Content="{Binding ElementName=Tile1Button, Path=DataContext.Tile1.Value.Name}" 
                                Command="controls:ContentControl3D.RotateCommand"  
                                Style="{StaticResource MemoryButtonStyle}" />
                    </DataTemplate>
                </controls:ContentControl3D.BackContentTemplate>
                <Button x:Name="Tile1Button" 
                        Content="?" 
                        cal:Message.Attach="Tile1Open()"
                        Style="{StaticResource MemoryButtonStyle}"  >                
                </Button>
            </controls:ContentControl3D>

            <controls:ContentControl3D Style="{StaticResource ThreeDContent}">
                <controls:ContentControl3D.BackContentTemplate>
                    <DataTemplate>
                        <Button Content="{Binding ElementName=Tile2Button, Path=DataContext.Tile2.Value.Name}"  Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}" />    </DataTemplate>
                </controls:ContentControl3D.BackContentTemplate>
                <Button Content="?"  x:Name="Tile2Button" Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}"  />
            </controls:ContentControl3D>

            <controls:ContentControl3D Style="{StaticResource ThreeDContent}">
                <controls:ContentControl3D.BackContentTemplate>
                    <DataTemplate>
                        <Button Content="{Binding ElementName=Tile3Button, Path=DataContext.Tile3.Value.Name}" Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}" />
                    </DataTemplate>
                </controls:ContentControl3D.BackContentTemplate>
                <Button Content="?" x:Name="Tile3Button" Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}"  />
            </controls:ContentControl3D>
            <controls:ContentControl3D Style="{StaticResource ThreeDContent}">
                <controls:ContentControl3D.BackContentTemplate>
                    <DataTemplate>
                        <Button Content="{Binding ElementName=Tile4Button, Path=DataContext.Tile4.Value.Name}"  Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}" />
                    </DataTemplate>
                </controls:ContentControl3D.BackContentTemplate>
                <Button Content="?" x:Name="Tile4Button" Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}"  />
            </controls:ContentControl3D>


        </StackPanel>
        <StackPanel Orientation="Horizontal">
            <controls:ContentControl3D Style="{StaticResource ThreeDContent}">
                <controls:ContentControl3D.BackContentTemplate>
                    <DataTemplate>
                        <Button Content="{Binding ElementName=Tile5Button, Path=DataContext.Tile5.Value.Name}" Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}" /></DataTemplate>
                </controls:ContentControl3D.BackContentTemplate>
                <Button Content="?" x:Name="Tile5Button" Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}"  />
            </controls:ContentControl3D>

            <controls:ContentControl3D Style="{StaticResource ThreeDContent}">
                <controls:ContentControl3D.BackContentTemplate>
                    <DataTemplate>
                        <Button Content="{Binding ElementName=Tile6Button, Path=DataContext.Tile6.Value.Name}"  Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}" /></DataTemplate>
                </controls:ContentControl3D.BackContentTemplate>
                <Button Content="?" x:Name="Tile6Button" Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}"  />
            </controls:ContentControl3D>

            <controls:ContentControl3D Style="{StaticResource ThreeDContent}">
                <controls:ContentControl3D.BackContentTemplate>
                    <DataTemplate>
                        <Button Content="{Binding ElementName=Tile7Button, Path=DataContext.Tile7.Value.Name}" Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}" />
                    </DataTemplate>
                </controls:ContentControl3D.BackContentTemplate>
                <Button Content="?" x:Name="Tile7Button" Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}"  />
            </controls:ContentControl3D>

            <controls:ContentControl3D Style="{StaticResource ThreeDContent}">
                <controls:ContentControl3D.BackContentTemplate>
                    <DataTemplate>
                        <Button Content="{Binding ElementName=Tile8Button, Path=DataContext.Tile8.Value.Name}"  Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}" />
                    </DataTemplate>
                </controls:ContentControl3D.BackContentTemplate>
                <Button Content="?" x:Name="Tile8Button" Command="controls:ContentControl3D.RotateCommand"  Style="{StaticResource MemoryButtonStyle}"  />
            </controls:ContentControl3D>


        </StackPanel>



    </StackPanel>
</UserControl>
